<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="The salsa crate is a crate for incremental recomputation.  It permits you to define a “database” of queries with both inputs and values derived from those inputs; as you set the inputs, you can re-execute the derived queries and it will try to re-use results from previous invocations as appropriate."><meta name="keywords" content="rust, rustlang, rust-lang, salsa"><title>salsa - Rust</title><link rel="stylesheet" type="text/css" href="../normalize.css"><link rel="stylesheet" type="text/css" href="../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../light.css"  id="themeStyle"><link rel="stylesheet" type="text/css" href="../dark.css" disabled ><link rel="stylesheet" type="text/css" href="../ayu.css" disabled ><script id="default-settings"></script><script src="../storage.js"></script><script src="../crates.js"></script><noscript><link rel="stylesheet" href="../noscript.css"></noscript><link rel="icon" type="image/svg+xml" href="../favicon.svg">
<link rel="alternate icon" type="image/png" href="../favicon-16x16.png">
<link rel="alternate icon" type="image/png" href="../favicon-32x32.png"><style type="text/css">#crate-search{background-image:url("../down-arrow.svg");}</style></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu" role="button">&#9776;</div><a href='../salsa/index.html'><div class='logo-container rust-logo'><img src='../rust-logo.png' alt='logo'></div></a><h2 class="location">Crate salsa</h2><div class="block version"><p>Version 0.16.1</p></div><div class="sidebar-elems"><a id="all-types" href="all.html"><p>See all salsa's items</p></a><div class="block items"><ul><li><a href="#modules">Modules</a></li><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#traits">Traits</a></li></ul></div><div id="sidebar-vars" data-name="salsa" data-ty="mod" data-relpath=""></div><script defer src="sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu" title="themes"><img src="../brush.svg" width="18" height="18" alt="Pick another theme!"></button><div id="theme-choices" role="menu"></div></div><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><button type="button" id="help-button" title="help">?</button><a id="settings-menu" href="../settings.html" title="settings"><img src="../wheel.svg" width="18" height="18" alt="Change settings"></a></div></form></nav><section id="main" class="content"><h1 class="fqn"><span class="in-band">Crate <a class="mod" href="#">salsa</a><button id="copy-path" onclick="copy_path(this)" title="copy path"><img src="../clipboard.svg" width="19" height="18" alt="Copy item import" title="Copy item import to clipboard"></button></span><span class="out-of-band"><span id="render-detail"><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span><a class="srclink" href="../src/salsa/lib.rs.html#1-626" title="goto source code">[src]</a></span></h1><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>The salsa crate is a crate for incremental recomputation.  It
permits you to define a “database” of queries with both inputs and
values derived from those inputs; as you set the inputs, you can
re-execute the derived queries and it will try to re-use results
from previous invocations as appropriate.</p>
</div></details><h2 id="modules" class="section-header"><a href="#modules">Modules</a></h2>
<table><tr class="module-item"><td><a class="mod" href="debug/index.html" title="salsa::debug mod">debug</a></td><td class="docblock-short"><p>Debugging APIs: these are meant for use when unit-testing or
debugging your application but aren’t ordinarily needed.</p>
</td></tr></table><h2 id="structs" class="section-header"><a href="#structs">Structs</a></h2>
<table><tr class="module-item"><td><a class="struct" href="struct.CycleError.html" title="salsa::CycleError struct">CycleError</a></td><td class="docblock-short"><p>The error returned when a query could not be resolved due to a cycle</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.DatabaseKeyIndex.html" title="salsa::DatabaseKeyIndex struct">DatabaseKeyIndex</a></td><td class="docblock-short"><p>An integer that uniquely identifies a particular query instance within the
database. Used to track dependencies between queries. Fully ordered and
equatable but those orderings are arbitrary, and meant to be used only for
inserting into maps and the like.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.Durability.html" title="salsa::Durability struct">Durability</a></td><td class="docblock-short"><p>Describes how likely a value is to change – how “durable” it is.
By default, inputs have <code>Durability::LOW</code> and interned values have
<code>Durability::HIGH</code>. But inputs can be explicitly set with other
durabilities.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.Event.html" title="salsa::Event struct">Event</a></td><td class="docblock-short"><p>The <code>Event</code> struct identifies various notable things that can
occur during salsa execution. Instances of this struct are given
to <code>salsa_event</code>.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.InternId.html" title="salsa::InternId struct">InternId</a></td><td class="docblock-short"><p>The “raw-id” is used for interned keys in salsa – it is basically
a newtype’d u32. Typically, it is wrapped in a type of your own
devising. For more information about interned keys, see <a href="https://github.com/salsa-rs/salsa-rfcs/pull/2">the
interned key RFC</a>.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.QueryTable.html" title="salsa::QueryTable struct">QueryTable</a></td><td class="docblock-short"><p>Return value from <a href="trait.Database.html#method.query">the <code>query</code> method</a> on <code>Database</code>.
Gives access to various less common operations on queries.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.QueryTableMut.html" title="salsa::QueryTableMut struct">QueryTableMut</a></td><td class="docblock-short"><p>Return value from <a href="trait.Database.html#method.query_mut">the <code>query_mut</code> method</a> on <code>Database</code>.
Gives access to the <code>set</code> method, notably, that is used to
set the value of an input query.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.Revision.html" title="salsa::Revision struct">Revision</a></td><td class="docblock-short"><p>A unique identifier for the current version of the database; each
time an input is changed, the revision number is incremented.
<code>Revision</code> is used internally to track which values may need to be
recomputed, but is not something you should have to interact with
directly as a user of salsa.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.Runtime.html" title="salsa::Runtime struct">Runtime</a></td><td class="docblock-short"><p>The salsa runtime stores the storage for all queries as well as
tracking the query stack and dependencies between cycles.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.RuntimeId.html" title="salsa::RuntimeId struct">RuntimeId</a></td><td class="docblock-short"><p>A unique identifier for a particular runtime. Each time you create
a snapshot, a fresh <code>RuntimeId</code> is generated. Once a snapshot is
complete, its <code>RuntimeId</code> may potentially be re-used.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.Snapshot.html" title="salsa::Snapshot struct">Snapshot</a></td><td class="docblock-short"><p>Simple wrapper struct that takes ownership of a database <code>DB</code> and
only gives <code>&amp;self</code> access to it. See <a href="trait.ParallelDatabase.html#method.snapshot">the <code>snapshot</code> method</a>
for more details.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.Storage.html" title="salsa::Storage struct">Storage</a></td><td class="docblock-short"><p>Stores the cached results and dependency information for all the queries
defined on your salsa database. Also embeds a <a href="struct.Runtime.html" title="Runtime"><code>Runtime</code></a> which is used to
manage query execution. Every database must include a <code>storage: Storage&lt;Self&gt;</code> field.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.SweepStrategy.html" title="salsa::SweepStrategy struct">SweepStrategy</a></td><td class="docblock-short"><p>The sweep strategy controls what data we will keep/discard when we
do a GC-sweep. The default (<code>SweepStrategy::default</code>) is a no-op,
use <code>SweepStrategy::discard_outdated</code> constructor or <code>discard_*</code>
and <code>sweep_*</code> builder functions to construct useful strategies.</p>
</td></tr></table><h2 id="enums" class="section-header"><a href="#enums">Enums</a></h2>
<table><tr class="module-item"><td><a class="enum" href="enum.EventKind.html" title="salsa::EventKind enum">EventKind</a></td><td class="docblock-short"><p>An enum identifying the various kinds of events that can occur.</p>
</td></tr></table><h2 id="traits" class="section-header"><a href="#traits">Traits</a></h2>
<table><tr class="module-item"><td><a class="trait" href="trait.Database.html" title="salsa::Database trait">Database</a></td><td class="docblock-short"><p>The base trait which your “query context” must implement. Gives
access to the salsa runtime, which you must embed into your query
context (along with whatever other state you may require).</p>
</td></tr><tr class="module-item"><td><a class="trait" href="trait.InternKey.html" title="salsa::InternKey trait">InternKey</a></td><td class="docblock-short"><p>Trait implemented for the “key” that results from a
<code>#[salsa::intern]</code> query.  This is basically meant to be a
“newtype”’d <code>u32</code>.</p>
</td></tr><tr class="module-item"><td><a class="trait" href="trait.ParallelDatabase.html" title="salsa::ParallelDatabase trait">ParallelDatabase</a></td><td class="docblock-short"><p>Indicates a database that also supports parallel query
evaluation. All of Salsa’s base query support is capable of
parallel execution, but for it to work, your query key/value types
must also be <code>Send</code>, as must any additional data in your database.</p>
</td></tr><tr class="module-item"><td><a class="trait" href="trait.Query.html" title="salsa::Query trait">Query</a></td><td class="docblock-short"><p>Trait implements by all of the “special types” associated with
each of your queries.</p>
</td></tr><tr class="module-item"><td><a class="trait" href="trait.QueryDb.html" title="salsa::QueryDb trait">QueryDb</a></td><td class="docblock-short"><p>Trait implements by all of the “special types” associated with
each of your queries.</p>
</td></tr></table></section><section id="search" class="content hidden"></section><div id="rustdoc-vars" data-root-path="../" data-current-crate="salsa" data-search-index-js="../search-index.js" data-search-js="../search.js"></div><script src="../main.js"></script></body></html>